<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript200</title>
</head>
<body>

    <h1>DOM 이벤트 처리</h1>
    
    <script>

        const inputContainer = document.getElementById('input-container');
        console.log(inputContainer);
        // 자스가 DOm을 읽기전에 생성되어서 null로 나옴

        document.addEventListener('DOMContentLoaded', e => {
        const inputContainer = document.getElementById('input-container');
        console.log(inputContainer);
        
        const inputEl = inputContainer.querySelector('input');
        inputEl.addEventListener('keydown', e => {
            console.log(`keyCode: ${e.keyCode}`);
        });
        //input-container아이디의 하위요소 인풋태그를 불러와 키다운 이벤트리스너를 등록 
        //키보드의 키를 누ㅡㄹ때 키다운 이벤트가 발생 리스너 함수는 매개변수로 이벤트 객체를 전달받는데 
        // 이 객체의 키코드속성을 통해 뭘눌렀는지 알수잇다

        const buttonEl = inputContainer.querySelector('button');
        buttonEl.addEventListener('click', e => {
            console.log(e.tatget);
            console.log(`input value: ${inputEl.value}`);
        });
        //컨테이너의 버튼 요소를 찾아 클릭이벤트 리스너 등록
        //버튼요소를 클릭하면 이벤트 발생 -- 이벤트 객체의 target속성은 클릭한 요소를 가르킴
        //애로우 함수로 이벤트 리스너 등록하지 않고 일반함수로 등록시 this는 target과 같다

        
        });
        //html 전체가 로드되고 DOM트리가 완성되면 호출되는 이벤트 
        //외부 리소스까지 받아오고 출력할라면 'onload' 이벤트를 사용해야함 
        //onload는 window.onload에 함수를 할당해서 사용하는 방식

    </script>
    
<div id="input-container">
    <input type="text">
    <button>버튼</button>
</div>
   
</body>


</html>