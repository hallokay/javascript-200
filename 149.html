<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript200</title>
</head>
<body>

    <h1>이벤트 위임처리
    </h1>

    <h2>할일</h2>

    <ul id="todo">
        <li> 공부 <button class="remove-button">x</button></li>
        <li> 장보기 <button class="remove-button">x</button></li>
        <li> 숙제 <button class="remove-button">x</button></li>

    </ul>
    
    <script>

        document
        .querySelector('ul#todo')
        //부모요소인 ul에 이벤트 리스너를 등록했기 때문에 자식요소인 li요소나 
        //자식의 자식을 클릭하면 버블링에 의해 이벤트가 감지됨
        .addEventListener('click', function(e){
            if(e.target.className.indexOf('remove-button') < 0){
                return;
            }
            //e객체의 타겟속성은 실제로 클릭된 요소 클래스 이름을 확인하여 원하는 요소가 아닐때 무시한다
            //이렇게 위임 처리에서는 부모에서 자식의 어떤 요소가 대상요소가 되는지 확인하여 이벤트 처리


            const li = event.target.closest('li');
            console.log(`${li.innerText}삭제`);
            li.remove();

            //클릭한 타겟 요소의 closest()메소드를 호추라면 현재요소의 부모중 인자로 전달한 
            //선택자에 해당하는 가장가까운 요소 반환 
            //즉 버튼만 클릭했을 경우 동작하기 때문에 버튼요소에서 가장 가까운 li요소 선택
            //그리고 리무브로 요소 삭제
        });

    </script>
    
   
</body>


</html>